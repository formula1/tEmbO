{"version":3,"sources":["tembo.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","Component","Patch","NativeRoot","TemboConstructor","renderer","updater","tembo","_","components","can","structure","extend","element","props","content","arguments","index","push","component","nativeParent","root","makeTree","render","parent","window","SyncUpdate","Tembo","./core/Tembo.core.can.js","./interface/Component","./interface/Patch","./render/NativeRoot","./renderers/DOM.js","./updaters/SyncUpdate",2,"label","method",3,"eventFunctions","TemboComponent","renderNode","this","state","getInitialState","_newState","_stateChanged","mixin","ExtendedComponent","prototype","Object","create","constructor","key","indexOf","displayName","isTemboComponent","attachProps","didUpdate","oldProps","newProps","prop","Array","children","_isUpdating","renderResult","__render__","componentWillUnmount","__componentWillUnmount__","setState","newState","curState","keys","forEach","shouldUpdate","add","remove",4,"type",5,"UTIL","ShadowNode","patch","options","elem","isNative","setPatch","shadowHead","native","Renderer","container","rootComponent","proto","newPatch","oldPatch","differentTypes","differentTypeSet","setProps","differentPatch","$","Render","nativeContainer","setText","clone","childrenPatches","setProp","childLength","patchLength","min","Math","max","pop","removeChild","renderPatch","createText","createElement","oldNative","newNative","replaceChild","appendChild","insertChild","defineProperty","get","count","nativeFigure","./ShadowNode","./util",6,"shadow","destroyed","figure","lastPatch","shadowTail",7,"b","deepCompare","some","aChild","bChild","obj","reduce","ret","akeys","bkeys",8,"DOM","document","setDOM","newDom","instance","getId","getAttribute","setId","id","setAttribute","value","replace","toLowerCase","addEventListener","child","childNodes","oldChild","newChild","isElement","textNode","nodeType","isText","tagName","text","createTextNode",9],"mappings":"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","file":"tembo.min.js"}
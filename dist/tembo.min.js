!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){var d=a("./interface/Component"),e=a("./interface/Patch"),f=a("./render/NativeRoot"),g=a("./updaters/SyncUpdate"),h=function(b,c){this.updater=c||new g;var d={_:{},components:{}};return a("./core/Tembo.core.can.js")(d),d._.can("createClass",h.createClass),d._.can("createElement",h.createElement),d._.can("render",function(a,c){var d=f.makeTree(b,c,a);return b.render(d)}),d._.can("getNative",function(a){return a.renderNode["native"].elem}),d};h.updater=new g,h.createClass=function(a){return d.extend(a,this.updater)},h.createElement=function(a,b,c){if(b||(b={}),arguments.length>3){c=[];var d=2;while(d<arguments.length)c.push(arguments[d]),d++}return new e(a,b,c)},b.exports=h,b.parent||"object"!=typeof window||(window.Tembo=h(a("./renderers/DOM.js"),new g))},{"./core/Tembo.core.can.js":2,"./interface/Component":3,"./interface/Patch":4,"./render/NativeRoot":5,"./renderers/DOM.js":8,"./updaters/SyncUpdate":9}],2:[function(a,b,c){b.exports=function(a){"use strict";a._.can=function(b,c){a[b]||(a[b]=c)}}},{}],3:[function(a,b,c){var d=["componentWillMount","componentDidMount","componentWillUpdate","componentDidUpdate","componentWillUnmount","componentDidUnmount","render"],e;b.exports=e=function(a){if(!a)throw new Error("renderNode required");this.renderNode=a,this.props={},this.state=void 0,this._newState=this.getInitialState?this.getInitialState():{},this._stateChanged=!1,this._isUpdating=!0},e.extend=function(a,b){var c=function(a){return this instanceof c?(e.call(this,a),void(this.updater=b)):new c(a)};return c.prototype=Object.create(e.prototype),c.prototype.constructor=c,Object.keys(a).forEach(function(b){var e=a[b];d.indexOf(b)>-1?c.prototype["__"+b+"__"]=e:c.prototype[b]=e}),a.displayName&&(c.displayName=a.displayName),c.isTemboComponent=!0,c},e.prototype.attachProps=function(a,b){var c={};"object"==typeof a&&Object.keys(a).forEach(function(b){c[b]=a[b]}),b instanceof Array||(b=[b]),c.children=b,this.props=c},e.prototype.isTemboComponent=e.isTemboComponent=!0,d.forEach(function(a){e.prototype[a]=function(){return"function"==typeof this["__"+a+"__"]?this["__"+a+"__"]():void 0}}),e.prototype.render=function(){(!this.state||this._isUpdating)&&(this._isUpdating=!1,this.state=this._newState,this._newState={});var a=this.__render__();return a},e.prototype.setState=function(a){var b=this._newState,c=this.state||{};Object.keys(a).forEach(function(d){b[d]=a[d],b[d]===c[d]&&delete b[d]});var d=Object.keys(b).length;d?this.updater.add(this):this.updater.remove(this)}},{}],4:[function(a,b,c){b.exports=function d(a,b,c){this.type=a,this.props={},b&&(this.props=b),this.children=c instanceof Array?c:c?[c]:[]}},{}],5:[function(a,b,c){var d=a("./util"),e=a("./ShadowNode"),f;b.exports=f=function(a,b){this.renderer=b.renderer,this.parent=b.parent,this.children=[],this.setContent(a)},f.makeTree=function(a,b,c){var d=new f(b,{renderer:a}),e=new f(c,{parent:d});return[d,e]};var g=f.prototype;g.setContent=function(a){var b=this.oldPatch;if(this.oldPatch=a,this.renderer)return this.elem=a;if(d.differentTypes(b,a)){if(this.shadowHead&&this.shadowHead.remove(),this.shadowHead=null,d.isNative(a))return this.setPatch(a);if(this.parent)return void(this.shadowHead=new e(a,{"native":this}));throw new Error("what hapenned")}d.differentPatch(b,a)&&(this.shadowHead?this.shadowHead.setPatch(a):this.setProps(a))},g.setPatch=function(a){var b=this.oldNative;return this.oldNative=a,b||a?d.differentTypes(b,a)?(this.differentTypeSet(b,a),this.setProps(a)):d.differentPatch(b,a)?this.setProps(a):void 0:void 0},g.setProps=function(a){var b=this.Render,c=this.elem;if(a){if("string"==typeof a)return b.setText(c,a);var e=d.clone(a.props),g=a.children;delete e.children,Object.keys(e).forEach(function(a){b.setProp(c,a,e[a])});for(var h=this.children,i=h.length,j=g.length,k=Math.min(i,j),l=Math.max(i,j),m=0;l>m;m++)k>m?h[m].setContent(g[m]):j>i?h.push(new f(g[m],{parent:this})):h.pop().remove();return c}},g.remove=function(){this.shadowHead&&this.shadowHead.remove(),this.Render.removeChild(this.parent.elem,this.elem)},g.renderPatch=function(a){if(!a)return null;if("string"==typeof a)return this.Render.createText(a);if("object"!=typeof a)throw new Error("Cannot make patch of "+a);if(!a.type.isTemboComponent)return this.Render.createElement(a.type);throw new Error("NativeRoot expects only native patches")},g.differentTypeSet=function(a,b){if(this.parent){var c=this.parent.elem,d=this.elem,e=this.renderPatch(b);if(this.elem=e,d||e){if(d)return e?this.Render.replaceChild(c,d,e):this.Render.removeChild(c,d);var f=this.index;return-1===f?this.Render.appendChild(c,e):void this.Render.insertChild(c,e,f)}}},Object.defineProperty(g,"Render",{get:function(){return this.parent?this.parent.Render:this.renderer}}),Object.defineProperty(g,"index",{get:function(){for(var a=this.parent.children,b=0,c=0,d=a.length;d>c;c++){if(a[c]==this)break;a[c].elem&&b++}return b===d?-1:b}})},{"./ShadowNode":6,"./util":7}],6:[function(a,b,c){var d=a("./util"),e;b.exports=e=function(a,b){this.shadow=b.shadow,this["native"]=b["native"],this.elem=new a.type(this),this.elem.props=a.props,this.elem.props.children=a.children,this.elem.componentWillMount(),this.render(),this.elem.componentDidMount()};var f=e.prototype;Object.defineProperty(f,"parent",{get:function(){return this["native"].parent}}),f.setPatch=function(a){var b=this.elem.props,c=a.props;c.children=a,this.elem.componentRecievedProps(b,c),this.elem.props=c,this.update()},f.update=function(){this.elem.componentWillUpdate(),this.render(),this.elem.componentWillUpdate()},f.remove=function(){return this.elem.componentWillUnmount(),this.destroyed=!0,this.figure?this.figure.remove():(this.shadow=void 0,this.figure=void 0,this["native"]=void 0,void this.elem.componentDidUnmount())},f.render=function(){var a=this.elem.render(),b=this.lastPatch;return this.lastPatch=a,b||a?d.isNative(a)?(this.figure&&(this.figure.remove(),this.figure=void 0),this["native"].shadowTail=this,this["native"].setPatch(a)):d.differentTypes(b,a)?(this.figure&&this.figure.remove(),this.figure=new e(a,{shadow:this,"native":this["native"]}),this.figure):void(d.differentPatch(b,a)&&this.figure.setPatch(a)):void 0}},{"./util":7}],7:[function(a,b,c){var d,e,f,g,h;b.exports.isNative=d=function(a){if(!a)return!0;if("string"==typeof a)return!0;var b=a.type;return!b.isTemboComponent},b.exports.differentTypes=e=function(a,b){var c=!a,d=!b;return c||d?c!==d:typeof a!=typeof b?!0:"string"==typeof a?!1:"string"==typeof a.type?a.type!==b.type:a.type!==b.type},b.exports.differentPatch=f=function(a,b){var c=!a,d=!b;return c||d?c!==d:"string"==typeof a?a!==b:h(a.props,b.props)?a.children||b.children?a.children&&b.children?a.children.length!==b.children.length?!0:a.children.some(function(c,d){var g=b[d];return c||g?e(a,b)?!0:f(c,g):!1}):!0:!1:!0},b.exports.clone=g=function(a){return Object.keys(a).reduce(function(b,c){return b[c]=a[c],b},{})},h=function(a,b){var c=typeof a;if(c!==typeof b)return!1;if("object"!==c)return a===b;var d=Object.keys(a),e=Object.keys(b);return d.length!==e.length?!1:!d.some(function(c){return c in b?!h(a[c],b[c]):!0})}},{}],8:[function(a,b,c){var d=document;b.exports.setDOM=function(a){d=a},"object"==typeof document&&b.exports.setDOM(document),b.exports.render=function(a,b){return a.instance},b.exports.getId=function(a){return a.getAttribute("data-tamboId")},b.exports.setId=function(a,b){return a.setAttribute("data-tamboId",b)},b.exports.setProp=function(a,b,c){0===b.indexOf("on")?(b=b.replace("on","").toLowerCase(),a.addEventListener(b,c,!1)):"children"!==b&&a.setAttribute(b,c)},b.exports.appendChild=function(a,b){return a.appendChild(b)},b.exports.insertChild=function(a,b,c){return a.appendChild(b,a.childNodes[c])},b.exports.removeChild=function(a,b){return a.removeChild(b)},b.exports.replaceChild=function(a,b,c){return a.replaceChild(c,b)},b.exports.isElement=function(a){return 1===a.nodeType},b.exports.isText=function(a){return 3===a.nodeType},b.exports.createElement=function(a){return d.createElement(a)},b.exports.createText=function(a){return d.createTextNode(a)}},{}],9:[function(a,b,c){var d;b.exports=d=function(){};var e=d.prototype;e.add=function(a){a.destroyed||a._isUpdating||(a._isUpdating=!0,a.renderNode.update())},e.remove=function(a){a.destroyed||a._isUpdating&&(a._isUpdating=!1)}},{}]},{},[1]);
//# sourceMappingURL=tembo.min.map